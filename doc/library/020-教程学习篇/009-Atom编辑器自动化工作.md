# Atom 编辑器自动化工作

当我们在 Atom 编辑器中拟写文档时，amWiki 会让编辑器进行许多自动化工作

## 自动更新 $navgation.md

`$navgation.md` 是文库导航文件，描述了整个文库的目录结构和文档列表  

![](assets/020/20170805-db6a05b4.png=270-)  

#### 更新规则：
- 无需任何配置，Atom 中默认开启自动更新
- 仅在 Atom 中进行文件操作才会更新（比如创建文件、重命名文件夹等）
- 每次打开 Atom 会判断文库是否有变化，有变化则进行一次更新
- 如果是在系统的资源管理器中进行的文件操作，不会触发自动更新
- 但是切换到其他软件或窗口一段时间之后，再切换回 Atom，则会进行一次变化判断，有变化则进行一次更新

## 粘贴截图

请先**截图**，然后使用快捷键 `Ctrl + Shift + V`，可以直接将截图以 Markdown 图片语法插入文档正文光标  
![](assets/020/20170721-c1d9351b.png=320-)  
同时一个图片文件将被创建至文库 assets/020 目录下，如果目录不存在则先创建目录

#### 菜单操作
某些特殊情况下不想通过快捷键操作，则可以从菜单面板执行此功能，效果完全一样  
![](assets/020/20170805-4efa5dc7.png=-135)  
(PS：Atom 设置中，可以关闭 Packages 绑定的快捷键，也可以全局重新定义任意快捷功能的快捷键)

#### 粘贴规则：
- 只能粘贴截图，不能粘贴本地的图片文件
- 可以从QQ、微信的输入窗口、聊天面板、历史消息记录中复制图片进行粘贴
- 文件名由日期加图片hash的一小段构成，当天内重复粘贴同一截图不会创建多个文件
- 文件夹名 assets 固定，020 为当前文档所属一级目录的 id

## 文件拖拽

图片文件不能直接通过复制粘贴插入到正文？拖拽文件到 Atom 文档编辑区域即可

(计划中，敬请期待...)

## 提取文章篇内目录
![](assets/020/20170805-b4f0dbb0.png=-135)  
创建目录实际上是根据页面内容生成 Markdown 链接的列表，生成效果如下：  
![](assets/020/20170805-252d7465.png=350-)  

PS：此功能为老版本遗留，除非您有特别需求，例如需要 **定制** 或 **干涉目录内容**，否则建议使用 Markdown 语法标记代替。参见：[Markdown文章篇内目录](?file=020-教程学习篇/005-学习markdown/14-Markdown文章篇内目录)
